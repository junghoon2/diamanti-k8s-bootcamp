apiVersion: apps/v1
kind: Deployment
metadata:
  name: nginx-telnet01
  namespace: ingress
  labels:
    app: telnet01  #service가 바라보는 label이 아님. 주의.
spec:
  replicas: 1
  selector:
    matchLabels:
      app: telnet01  
  template:
    metadata:
      labels:
        app: telnet01  # Service가 바라보는 label 지정 
    spec:
      containers:
      - name: nginx
        image: erdia22/nginx-telnet:0.8
        # 실행 후 pod 접속하여 nginx 실행 필요
        command:
        - "/bin/sh"  # nginx 명령 실행 시 completed 발생 
        - "-c"
        - "sleep inf"  
---
apiVersion: apps/v1
kind: Deployment
metadata:
  name: nginx-telnet02
  namespace: ingress
  labels:
    app: telnet02  #service가 바라보는 label이 아님. 주의.
spec:
  replicas: 1
  selector:
    matchLabels:
      app: telnet02  
  template:
    metadata:
      labels:
        app: telnet02  # Service가 바라보는 label 지정 
    spec:
      containers:
      - name: nginx
        image: erdia22/nginx-telnet:0.8
        command:
        - "/bin/sh"
        - "-c"
        - "sleep inf"  
